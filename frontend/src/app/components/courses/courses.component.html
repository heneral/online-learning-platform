<div class="courses-page">
  <div class="container">
    <h1>Browse Courses</h1>

    <!-- Filters -->
    <div class="filters card">
      <div class="filter-group">
        <input 
          type="text" 
          class="form-control" 
          placeholder="Search courses..." 
          [(ngModel)]="searchTerm"
          (keyup.enter)="onSearch()">
        <button class="btn btn-primary" (click)="onSearch()">Search</button>
      </div>

      <div class="filter-group">
        <select class="form-control" [(ngModel)]="selectedCategoryId" (change)="onCategoryChange(selectedCategoryId)">
          <option [value]="undefined">All Categories</option>
          <option *ngFor="let category of categories" [value]="category.id">
            {{ category.name }}
          </option>
        </select>

        <select class="form-control" [(ngModel)]="selectedLevel" (change)="onLevelChange(selectedLevel)">
          <option value="">All Levels</option>
          <option value="Beginner">Beginner</option>
          <option value="Intermediate">Intermediate</option>
          <option value="Advanced">Advanced</option>
        </select>
      </div>
    </div>

    <!-- Courses Grid -->
    <div *ngIf="loading" class="loading">Loading courses...</div>
    
    <div *ngIf="!loading && courses.length === 0" class="text-center">
      <p>No courses found.</p>
    </div>

    <div *ngIf="!loading && courses.length > 0" class="grid grid-cols-3">
      <div *ngFor="let course of courses" class="course-card card">
        <img [src]="getCourseImage(course)" [alt]="course.title" class="course-image">
        <div class="course-content">
          <h3>{{ course.title }}</h3>
          <p class="course-description">{{ course.description }}</p>
          <p class="course-instructor">By {{ course.instructorName }}</p>
          <div class="course-meta">
            <span class="course-level">{{ course.level }}</span>
            <span class="course-price">${{ course.price }}</span>
          </div>
          <a [routerLink]="['/courses', course.id]" class="btn btn-primary btn-block mt-20">
            View Details
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
